# Output Data API
## Usage

Output data classes are found in `output_data.py`. These classes are wrappers for classes auto-generated by flatc, which in turn are wrappers for accessing byte arrays serialized according to Flatbuffer schemas; _none_ of these files should be edited.

Output data is sent from the build as a list of serialized byte arrays of Flatbuffer objects. The last element of the list is the frame number.

```python
from tdw.output_data import OutputData, Images
from tdw.controller import Controller

c = Controller()
c.start()

# Initialize your scene here.

resp = c.Communicate(commands)

# Iterate through all output data. 
# Ignore the last element (frame count).
for r in resp[:-1]:
	# Parse the byte array here.
```

### Identifiers

You can't directly cast a byte array to a Flatbuffer type. However, each byte array begins with a 4-character identifier:

```python
	r_id = OutputData.get_data_type_id(r)
	if r_id == "imag":
		i = Images(r)
```

This document includes each output data type's identifier.

### Arrays and indices

Objects in arrays can't be directly accessed (this is due to how the backend code is structured). Instead, each output data type has functions with an `index` parameter:

```python
		# Get the image, pass mask, and file extension of each pass.
		for i in range(i.get_num_passes()):
            img = i.get_image(i)
            pass_mask = i.get_pass_mask(i)
            ext = i.get_extension(i)
```


# Table of Contents
| Data Type | Description | Identifier |
| --- | --- | --- |
| [ArrivedAtNavMeshDestination](#ArrivedAtNavMeshDestination) | Sent when a NavMeshAvatar arrives at its destination. | `anmd` |
| [AudioSources](#AudioSources) | Audio data for each object in a scene. Note that this will only tell you if any audio is playing; it won't return the audio itself (use an external program to record audio). | `audi` |
| [AvatarKinematic](#AvatarKinematic) | Data of a kinematic (non-physics) avatar. | `avki` |
| [AvatarNonKinematic](#AvatarNonKinematic) | Data of a non-kinematic (physics-enabled) avatar with a single body object. | `avnk` |
| [AvatarSegmentationColor](#AvatarSegmentationColor) | Color segmentation data for an avatar. | `avsc` |
| [AvatarSimpleBody](#AvatarSimpleBody) | Data of a SimpleBodyAvatar. | `avsb` |
| [AvatarStickyMitten](#AvatarStickyMitten) | Data of a Sticky Mitten Avatar. | `avsm` |
| [AvatarStickyMittenSegmentationColors](#AvatarStickyMittenSegmentationColors) | Color segmentation data for a Sticky Mitten Avatar. | `smsc` |
| [Bounds](#Bounds) | Rotated bounds data. | `boun` |
| [CameraMatrices](#CameraMatrices) | An avatar's camera matrix data. Each matrix is arranged as m00, m01... m10, m11, etc. | `cama` |
| [CameraMotionComplete](#CameraMotionComplete) | Announce that a camera motion has been completed. | `camm` |
| [Collision](#Collision) | Data for a collision between objects occurring on this frame. | `coll` |
| [CompositeObjects](#CompositeObjects) | Data for all composite objects currently in the scene. | `comp` |
| [EnvironmentCollision](#EnvironmentCollision) | Data for a collision between and object and the scene environment on this frame. | `enco` |
| [Environments](#Environments) | Data regarding the scene environments. | `envi` |
| [FlexParticles](#FlexParticles) | NVIDIA Flex data. | `flex` |
| [IdPassGrayscale](#IdPassGrayscale) | The average grayscale value of the _id pass. | `idgs` |
| [IdPassSegmentationColors](#IdPassSegmentationColors) | All segmentation colors in an _id pass. | `ipsc` |
| [Images](#Images) | The images and associated metadata that were captured by an avatar. | `imag` |
| [ImageSensors](#ImageSensors) | The names of each ImageSensor component attached to an avatar, and whether they are enabled. | `imse` |
| [IsOnNavMesh](#IsOnNavMesh) | Data regarding whether a position is on the NavMesh. Invoked by first sending the command `send_is_on_nav_mesh`. | `isnm` |
| [Keyboard](#Keyboard) | Keyboard input. Note that in order to receive keyboard input, the build must be the focused window and running on the same computer as the keyboard. | `keyb` |
| [LocalTransforms](#LocalTransforms) | Data about the Transform component of objects (position and rotation) relative to its parent objects. | `ltra` |
| [LogMessage](#LogMessage) | A log message sent by the build. | `logm` |
| [Magnebot](#Magnebot) | Data for a Magnebot. | `magn` |
| [Meshes](#Meshes) | Mesh data from readable objects. | `mesh` |
| [NavMeshPath](#NavMeshPath) | A path on the scene's NavMesh. | `path` |
| [Overlap](#Overlap) | The IDs of every object that a shape overlaps. | `over` |
| [QuitSignal](#QuitSignal) | A message sent by the build when it quits. | `quit` |
| [Raycast](#Raycast) | A ray cast from an origin to a destination and what, if anything, it hit. | `rayc` |
| [Rigidbodies](#Rigidbodies) | Rigibody data (velocity, mass, etc.) for objects in the scene. | `rigi` |
| [Robot](#Robot) | Data for a robot in the scene. See also: `StaticRobot` | `robo` |
| [ScreenPosition](#ScreenPosition) | A position on the screen converted from a worldspace position. | `scre` |
| [SegmentationColors](#SegmentationColors) | Color segmentation data for objects in the scene. | `segm` |
| [StaticRobot](#StaticRobot) | Static data for a robot in the scene. | `srob` |
| [Substructure](#Substructure) | The substructure of a model. This should be used mainly for backend debugging. | `subs` |
| [Transforms](#Transforms) | Data about the Transform component of objects (position and rotation). | `tran` |
| [TriggerCollision](#TriggerCollision) | Data for a non-physics trigger collision event. | `trco` |
| [Version](#Version) | The build version and Unity version. | `vers` |
| [Volumes](#Volumes) | Spatial volume data for objects in the scene. | `volu` |
| [VRRig](#VRRig) | Data about the VR rig currently in the scene. | `vrri` |

# API
## ArrivedAtNavMeshDestination

`a = ArrivedAtNavMeshDestination(byte_array)`

**Identifier:** `anmd`

Sent when a NavMeshAvatar arrives at its destination.

| Function | Description | Return type |
| --- | --- | --- |
| `get_avatar_id()` | The ID of the avatar in each environment. | `str` |

## AudioSources

`a = AudioSources(byte_array)`

**Identifier:** `audi`

Audio data for each object in a scene. Note that this will only tell you if any audio is playing; it won't return the audio itself (use an external program to record audio).

| Function | Description | Return type |
| --- | --- | --- |
| `get_num()` | The number of objects. | `int` |
| `get_object_id(index)` | The ID of the object. | `int` |
| `get_is_playing(index)` | If true, the audio source is currently playing a sound. | `bool` |

## AvatarKinematic

`a = AvatarKinematic(byte_array)`

**Identifier:** `avki`

Data of a kinematic (non-physics) avatar.

| Function | Description | Return type |
| --- | --- | --- |
| `get_avatar_id()` | The ID of the avatar. | `str` |
| `get_position()` | The local bottom-center position of the avatar. | `Tuple[float, float, float]` |
| `get_rotation()` | The current rotation of the avatar. | `Tuple[float, float, float, float]` |
| `get_forward()` | The forward directional vector of the avatar. | `Tuple[float, float, float]` |

## AvatarNonKinematic

`a = AvatarNonKinematic(byte_array)`

**Identifier:** `avnk`

Data of a non-kinematic (physics-enabled) avatar with a single body object.

| Function | Description | Return type |
| --- | --- | --- |
| `get_avatar_id()` | The ID of the avatar. | `str` |
| `get_position()` | The local bottom-center position of the avatar. | `Tuple[float, float, float]` |
| `get_rotation()` | The current rotation of the avatar. | `Tuple[float, float, float, float]` |
| `get_forward()` | The forward directional vector of the avatar. | `Tuple[float, float, float]` |
| `get_velocity()` | The directional velocity. | `Tuple[float, float, float]` |
| `get_angular_velocity()` | The angular velocity. | `Tuple[float, float, float]` |
| `get_mass()` | The mass. | `float` |
| `get_sleeping()` | True if the rigidbody is sleeping. | `bool` |

## AvatarSegmentationColor

`a = AvatarSegmentationColor(byte_array)`

**Identifier:** `avsc`

Color segmentation data for an avatar.

| Function | Description | Return type |
| --- | --- | --- |
| `get_id()` | The ID of the avatar. | `str` |
| `get_segmentation_color()` | The segmentation color. | `Tuple[float, float, float]` |

## AvatarSimpleBody

`a = AvatarSimpleBody(byte_array)`

**Identifier:** `avsb`

Data of a SimpleBodyAvatar.

| Function | Description | Return type |
| --- | --- | --- |
| `get_avatar_id()` | The ID of the avatar. | `str` |
| `get_position()` | The local bottom-center position of the avatar. | `Tuple[float, float, float]` |
| `get_rotation()` | The current rotation of the avatar. | `Tuple[float, float, float, float]` |
| `get_forward()` | The forward directional vector of the avatar. | `Tuple[float, float, float]` |
| `get_velocity()` | The directional velocity. | `Tuple[float, float, float]` |
| `get_angular_velocity()` | The angular velocity. | `Tuple[float, float, float]` |
| `get_mass()` | The mass. | `float` |
| `get_sleeping()` | True if the rigidbody is sleeping. | `bool` |
| `get_visible_body()` | The name of the current visible body. | `str` |

## AvatarStickyMitten

`a = AvatarStickyMitten(byte_array)`

**Identifier:** `avsm`

Data of a Sticky Mitten Avatar.

| Function | Description | Return type |
| --- | --- | --- |
| `get_avatar_id()` | The ID of the avatar. | `str` |
| `get_position()` | The local bottom-center position of the avatar. | `Tuple[float, float, float]` |
| `get_rotation()` | The current rotation of the avatar. | `Tuple[float, float, float, float]` |
| `get_forward()` | The forward directional vector of the avatar. | `Tuple[float, float, float]` |
| `get_velocity()` | The directional velocity. | `Tuple[float, float, float]` |
| `get_angular_velocity()` | The angular velocity. | `Tuple[float, float, float]` |
| `get_mass()` | The mass. | `float` |
| `get_sleeping()` | True if the rigidbody is sleeping. | `bool` |
| `get_num_body_parts()` | The number of body parts. | `int` |
| `get_num_rigidbody_parts()` | The number of rigidbody parts. | `int` |
| `get_body_part_position(index)` | The position of the body part. | `Tuple[float, float, float]` |
| `get_body_part_rotation(index)` | The rotation of the body part. | `Tuple[float, float, float, float]` |
| `get_body_part_forward(index)` | The forward of the body part. | `Tuple[float, float, float]` |
| `get_body_part_id(index)` | The ID of the body part. | `int` |
| `get_rigidbody_part_velocity(index)` | The velocity of the rigidbody part. | `Tuple[float, float, float]` |
| `get_rigidbody_part_angular_velocity(index)` | The angular velocity of the rigidbody part. | `Tuple[float, float, float]` |
| `get_rigidbody_part_mass(index)` | The mass of the rigidbody part. | `float` |
| `get_rigidbody_part_sleeping(index)` | The sleeping of the rigidbody part. | `bool` |
| `get_rigidbody_part_id(index)` | The ID of the rigidbody part. | `int` |
| `get_held_left()` | Objects held by the left mitten. | `np.array` |
| `get_held_right()` | Objects held by the right mitten. | `np.array` |
| `get_angles_left()` | The angles of each joint in the left arm. Order is: shoulder_left_pitch, shoulder_left_yaw, shoulder_left_roll, elbow_left_pitch, wrist_left_roll, wrist_left_pitch | `np.array` |
| `get_angles_right()` | The angles of each joint in the right arm. Order is: shoulder_right_pitch, shoulder_right_yaw, shoulder_right_roll, elbow_right_pitch, wrist_right_roll, wrist_right_pitch | `np.array` |
| `get_mitten_center_left_position()` | The position of the mitten center left. | `Tuple[float, float, float]` |
| `get_mitten_center_left_forward()` | The forward of the mitten center left. | `Tuple[float, float, float]` |
| `get_mitten_center_left_rotation()` | The rotation of the mitten center left. | `Tuple[float, float, float, float]` |
| `get_mitten_center_right_position()` | The position of the mitten center right. | `Tuple[float, float, float]` |
| `get_mitten_center_right_forward()` | The forward of the mitten center right. | `Tuple[float, float, float]` |
| `get_mitten_center_right_rotation(index)` | The rotation of the mitten center right. | `Tuple[float, float, float, float]` |

## AvatarStickyMittenSegmentationColors

`a = AvatarStickyMittenSegmentationColors(byte_array)`

**Identifier:** `smsc`

Color segmentation data for a Sticky Mitten Avatar.

| Function | Description | Return type |
| --- | --- | --- |
| `get_id()` | The ID of the avatar. | `str` |
| `get_num_body_parts()` | The number of body parts. | `int` |
| `get_body_part_id(index)` | The ID of the body part. | `int` |
| `get_body_part_segmentation_color(index)` | The color of the body part segmentation. | `Tuple[float, float, float]` |
| `get_body_part_name(index)` | The name of the body part. | `str` |

## Bounds

`b = Bounds(byte_array)`

**Identifier:** `boun`

Rotated bounds data.

| Function | Description | Return type |
| --- | --- | --- |
| `get_num()` | The number of objects. | `int` |
| `get_id(index)` | The unique ID of the object. | `int` |
| `get_front(index)` | Point defining the front face (the one oriented towards the forward direction). | `Tuple[float, float, float]` |
| `get_back(index)` | Point defining the back face. | `Tuple[float, float, float]` |
| `get_left(index)` | Point defining the left face. | `Tuple[float, float, float]` |
| `get_right(index)` | Point defining the right face. | `Tuple[float, float, float]` |
| `get_top(index)` | Point defining the top face. | `Tuple[float, float, float]` |
| `get_bottom(index)` | Point defining the bottom face. | `Tuple[float, float, float]` |
| `get_center(index)` | Centerpoint of the bounds. | `Tuple[float, float, float]` |

## CameraMatrices

`c = CameraMatrices(byte_array)`

**Identifier:** `cama`

An avatar's camera matrix data. Each matrix is arranged as m00, m01... m10, m11, etc.

| Function | Description | Return type |
| --- | --- | --- |
| `get_avatar_id()` | The ID of the avatar. | `str` |
| `get_sensor_name()` | The name of the sensor that captured the image. | `str` |
| `get_projection_matrix()` | The projection matrix. | `np.array` |
| `get_camera_matrix()` | The camera matrix. | `np.array` |

## CameraMotionComplete

`c = CameraMotionComplete(byte_array)`

**Identifier:** `camm`

Announce that a camera motion has been completed.

| Function | Description | Return type |
| --- | --- | --- |
| `get_avatar_id()` | The ID of the avatar. | `str` |
| `get_motion()` | The type of motion that just ended. | `str` |

## Collision

`c = Collision(byte_array)`

**Identifier:** `coll`

Data for a collision between objects occurring on this frame.

| Function | Description | Return type |
| --- | --- | --- |
| `get_collider_id()` | The ID of the object that registered the collision. | `int` |
| `get_collidee_id()` | The ID of the object that collided with the collider. | `int` |
| `get_relative_velocity()` | The relative linear velocity of the collision. | `Tuple[float, float, float]` |
| `get_state()` | The state of the collision. | `str` |
| `get_num_contacts()` | The number of contacts. | `int` |
| `get_contact_normal(index)` | The normal of the contact. | `Tuple[float, float, float]` |
| `get_contact_point(index)` | The point of the contact. | `Tuple[float, float, float]` |

## CompositeObjects

`c = CompositeObjects(byte_array)`

**Identifier:** `comp`

Data for all composite objects currently in the scene.

| Function | Description | Return type |
| --- | --- | --- |
| `get_num()` | The number of objects. | `int` |
| `get_object_id(index)` | The ID of the object. | `int` |
| `get_num_sub_objects(index)` | The number of sub objects. | `int` |
| `get_sub_object_id(index, sub_object_index)` | The ID of the sub object. | `int` |
| `get_sub_object_machine_type(index, sub_object_index)` | The type of the sub object machine. | `str` |

## EnvironmentCollision

`e = EnvironmentCollision(byte_array)`

**Identifier:** `enco`

Data for a collision between and object and the scene environment on this frame.

| Function | Description | Return type |
| --- | --- | --- |
| `get_object_id()` | The ID of the object. | `int` |
| `get_state()` | The state of the collision. | `str` |
| `get_num_contacts()` | The number of contacts. | `int` |
| `get_contact_normal(index)` | The normal of the contact. | `Tuple[float, float, float]` |
| `get_contact_point(index)` | The point of the contact. | `Tuple[float, float, float]` |
| `get_floor()` | If True, this is the floor. | `bool` |

## Environments

`e = Environments(byte_array)`

**Identifier:** `envi`

Data regarding the scene environments.

| Function | Description | Return type |
| --- | --- | --- |
| `get_center(index)` | The centerpoint of the environment. | `Tuple[float, float, float]` |
| `get_bounds(index)` | The size of the environment. | `Tuple[float, float, float]` |
| `get_id(index)` | The ID of the environment. | `int` |
| `get_num()` | The number of envs. | `int` |

## FlexParticles

`f = FlexParticles(byte_array)`

**Identifier:** `flex`

NVIDIA Flex data.

| Function | Description | Return type |
| --- | --- | --- |
| `get_num_objects()` | The number of objects. | `int` |
| `get_particles(index)` | The Flex particle positions and inverse mass. | `np.array` |
| `get_velocities(index)` | The Flex particle velocities. | `np.array` |
| `get_id(index)` | The unique ID of the object. | `int` |

## IdPassGrayscale

`i = IdPassGrayscale(byte_array)`

**Identifier:** `idgs`

The average grayscale value of the _id pass.

| Function | Description | Return type |
| --- | --- | --- |
| `get_avatar_id()` | The ID of the avatar that captured the image. | `str` |
| `get_sensor_name()` | The name of the sensor that captured the image. | `str` |
| `get_grayscale()` | The average grayscale value. A higher value means that more of the image pixels are non-black. | `float` |

## IdPassSegmentationColors

`i = IdPassSegmentationColors(byte_array)`

**Identifier:** `ipsc`

All segmentation colors in an _id pass.

| Function | Description | Return type |
| --- | --- | --- |
| `get_avatar_id()` | The ID of the avatar that captured the image. | `str` |
| `get_sensor_name()` | The name of the sensor that captured the image. | `str` |
| `get_num_segmentation_colors()` | The number of segmentation colors. | `int` |
| `get_segmentation_color(index)` | The color of the segmentation. | `Tuple[float, float, float]` |

## Images

`i = Images(byte_array)`

**Identifier:** `imag`

The images and associated metadata that were captured by an avatar.

| Function | Description | Return type |
| --- | --- | --- |
| `get_avatar_id()` | The ID of the avatar that captured the image. | `str` |
| `get_sensor_name()` | The name of the sensor that captured the image. | `str` |
| `get_num_passes()` | The number of passes. | `int` |
| `get_pass_mask(index)` | The ID of the environment. | `str` |
| `get_image(index)` | The image. | `np.array` |
| `get_extension(index)` | The image file extension (.png or .jpg). | `str` |
| `get_width()` | The width of the screen in pixels. | `int` |
| `get_height()` | The height of the screen in pixels. | `int` |

## ImageSensors

`i = ImageSensors(byte_array)`

**Identifier:** `imse`

The names of each ImageSensor component attached to an avatar, and whether they are enabled.

| Function | Description | Return type |
| --- | --- | --- |
| `get_avatar_id()` | The ID of the avatar. | `str` |
| `get_num_sensors()` | The number of sensors. | `int` |
| `get_sensor_name(index)` | The name of the sensor. | `str` |
| `get_sensor_on(index)` | The on of the sensor. | `bool` |
| `get_sensor_rotation(index)` | The rotation of the sensor. | `Tuple[float, float, float, float]` |
| `get_sensor_forward(index)` | The forward of the sensor. | `Tuple[float, float, float]` |

## IsOnNavMesh

`i = IsOnNavMesh(byte_array)`

**Identifier:** `isnm`

Data regarding whether a position is on the NavMesh. Invoked by first sending the command `send_is_on_nav_mesh`.

| Function | Description | Return type |
| --- | --- | --- |
| `get_position()` | If is_on == False, this is (inf, inf inf). If is_on == True, this is a valid position on the NavMesh. | `Tuple[float, float, float]` |
| `get_is_on()` | True if `position` is a valid position on the NavMesh. | `bool` |

## Keyboard

`k = Keyboard(byte_array)`

**Identifier:** `keyb`

Keyboard input. Note that in order to receive keyboard input, the build must be the focused window and running on the same computer as the keyboard.

| Function | Description | Return type |
| --- | --- | --- |
| `get_num_pressed()` | The number of pressed. | `int` |
| `get_pressed(index)` | Keys that were first pressed between the previous frame and this frame. | `str` |
| `get_num_held()` | The number of held. | `int` |
| `get_held(index)` | Keys that are being pressed down. | `str` |
| `get_num_released()` | The number of released. | `int` |
| `get_released(index)` | Keys that were released between the previous frame and this frame. | `str` |

## LocalTransforms

`l = LocalTransforms(byte_array)`

**Identifier:** `ltra`

Data about the Transform component of objects (position and rotation) relative to its parent objects.

| Function | Description | Return type |
| --- | --- | --- |
| `get_num()` | The number of objects. | `int` |
| `get_id(index)` | The unique ID of this object. | `int` |
| `get_position(index)` | The local bottom-center position of the object. | `Tuple[float, float, float]` |
| `get_forward(index)` | The forward directional vector of the object. | `Tuple[float, float, float]` |
| `get_eulers(index)` | The local rotation of the object expressed in Euler angles. | `Tuple[float, float, float]` |
| `get_rotation(index)` | The local rotation of the object. | `Tuple[float, float, float, float]` |

## LogMessage

`l = LogMessage(byte_array)`

**Identifier:** `logm`

A log message sent by the build.

| Function | Description | Return type |
| --- | --- | --- |
| `get_message()` | The message. | `str` |
| `get_message_type()` | The type of message. | `str` |
| `get_object_type()` | The type of object that logged this message. | `str` |

## Magnebot

`m = Magnebot(byte_array)`

**Identifier:** `magn`

Data for a Magnebot.

| Function | Description | Return type |
| --- | --- | --- |
| `get_id()` | The unique ID of the Magnebot. | `int` |
| `get_held_left()` | The IDs of the objects held by the left magnet. | `np.array` |
| `get_held_right()` | The IDs of the objects held by the right magnet. | `np.array` |
| `get_top()` | The position of the top point of the Magnebot. | `Tuple[float, float, float]` |

## Meshes

`m = Meshes(byte_array)`

**Identifier:** `mesh`

Mesh data from readable objects.

| Function | Description | Return type |
| --- | --- | --- |
| `get_object_id(index)` | The ID of the object. | `int` |
| `get_num()` | The number of objects. | `int` |
| `get_vertices(index)` | The (x, y, z) coordinates of each vertex. | `np.array` |
| `get_triangles(index)` | Each triangle of the mesh. | `np.array` |

## NavMeshPath

`n = NavMeshPath(byte_array)`

**Identifier:** `path`

A path on the scene's NavMesh.

| Function | Description | Return type |
| --- | --- | --- |
| `get_state()` | The state of the path: "complete", "partial", or "invalid". | `str` |
| `get_path()` | Waypoints on the path as a numpy array of (x, y, z) coordinates. | `np.array` |
| `get_id()` | The ID of this path. Use this to differentiate between different NavMeshPaths. | `int` |

## Overlap

`o = Overlap(byte_array)`

**Identifier:** `over`

The IDs of every object that a shape overlaps.

| Function | Description | Return type |
| --- | --- | --- |
| `get_id()` | The identity of this overlap (useful if you've requested multiple Overlap objects). | `int` |
| `get_object_ids()` | The IDs of every object in the overlap shape. | `np.array` |
| `get_env()` | If true, the overlap shape includes at least one environment object (such as the floor). | `bool` |

## QuitSignal

`q = QuitSignal(byte_array)`

**Identifier:** `quit`

A message sent by the build when it quits.

| Function | Description | Return type |
| --- | --- | --- |
| `get_ok()` | If True, the build quit gracefully. If False, the build quit because there was an error or exception. | `bool` |

## Raycast

`r = Raycast(byte_array)`

**Identifier:** `rayc`

A ray cast from an origin to a destination and what, if anything, it hit.

| Function | Description | Return type |
| --- | --- | --- |
| `get_raycast_id()` | The identity of this raycast. | `int` |
| `get_hit()` | If true, the raycast hit something. | `bool` |
| `get_hit_object()` | If true, the raycast hit an object. | `bool` |
| `get_object_id()` | The ID of the object hit by the raycast. Ignore this if hit_object is false. | `Optional[int]` |
| `get_normal()` | The normal of the surface that the raycast hit. | `Tuple[float, float, float]` |
| `get_point()` | The point that the raycast hit. | `Tuple[float, float, float]` |

## Rigidbodies

`r = Rigidbodies(byte_array)`

**Identifier:** `rigi`

Rigibody data (velocity, mass, etc.) for objects in the scene.

| Function | Description | Return type |
| --- | --- | --- |
| `get_num()` | The number of objects. | `int` |
| `get_id(index)` | The unique ID of this object. | `int` |
| `get_velocity(index)` | The directional velocity. | `Tuple[float, float, float]` |
| `get_angular_velocity(index)` | The angular velocity. | `Tuple[float, float, float]` |
| `get_mass(index)` | The mass. | `float` |
| `get_sleeping(index)` | True if the rigidbody is sleeping. | `bool` |

## Robot

`r = Robot(byte_array)`

**Identifier:** `robo`

Data for a robot in the scene. See also: `StaticRobot`

| Function | Description | Return type |
| --- | --- | --- |
| `get_id()` | The ID of the robot. | `int` |
| `get_position()` | The (x, y, z) position of this body part. | `Tuple[float, float, float]` |
| `get_rotation()` | The rotation. | `Tuple[float, float, float, float]` |
| `get_forward()` | The forward. | `Tuple[float, float, float]` |
| `get_num_joints()` | The number of joints. | `int` |
| `get_joint_id(index)` | The ID of the joint. | `int` |
| `get_joint_position(index)` | The position of the joint. | `np.array` |
| `get_joint_positions(index)` | The positions of the joint. | `np.array` |
| `get_immovable()` | True if the root object of the robot is currently immovable. | `bool` |

## ScreenPosition

`s = ScreenPosition(byte_array)`

**Identifier:** `scre`

A position on the screen converted from a worldspace position.

| Function | Description | Return type |
| --- | --- | --- |
| `get_avatar_id()` | The ID of the avatar that is rendered the screen. | `str` |
| `get_sensor_name()` | The name of the sensor that rendered the screen. | `str` |
| `get_id()` | An identifier for the screen position to help you map it back to the original world position. | `int` |
| `get_screen()` | The position in screenspace coordinates. From the [Unity documentation:](https: | `Tuple[float, float, float]` |
| `get_world()` | The position in worldspace coordinates. | `Tuple[float, float, float]` |

## SegmentationColors

`s = SegmentationColors(byte_array)`

**Identifier:** `segm`

Color segmentation data for objects in the scene.

| Function | Description | Return type |
| --- | --- | --- |
| `get_num()` | The number of objects. | `int` |
| `get_object_id(index)` | The ID of the object. | `int` |
| `get_object_color(index)` | The color of the object. | `Tuple[float, float, float]` |
| `get_object_name(index)` | The name of the object. | `str` |

## StaticRobot

`s = StaticRobot(byte_array)`

**Identifier:** `srob`

Static data for a robot in the scene.

| Function | Description | Return type |
| --- | --- | --- |
| `get_id()` | The ID of this robot. | `int` |
| `get_num_joints()` | The number of joints. | `int` |
| `get_joint_id(index)` | The ID of the joint. | `int` |
| `get_joint_segmentation_color(index)` | The color of the joint segmentation. | `Tuple[float, float, float]` |
| `get_joint_mass(index)` | The mass of the joint. | `float` |
| `get_is_joint_immovable(index)` | The immovable of the is joint. | `bool` |
| `get_is_joint_root(index)` | The root of the is joint. | `bool` |
| `get_joint_parent_id(index)` | The ID of the joint parent. | `int` |
| `get_joint_name(index)` | The name of the joint. | `str` |
| `get_joint_type(index)` | The type of joint. | `str` |
| `get_num_joint_drives(index)` | The number of joint drives. | `int` |
| `get_joint_drive_axis(index, drive_index)` | The axis of the joint drive. | `str` |
| `get_joint_drive_limits(index, drive_index)` | The limits of the joint drive. | `bool` |
| `get_joint_drive_lower_limit(index, drive_index)` | The limit of the joint drive lower. | `float` |
| `get_joint_drive_upper_limit(index, drive_index)` | The limit of the joint drive upper. | `float` |
| `get_joint_drive_force_limit(index, drive_index)` | The limit of the joint drive force. | `float` |
| `get_joint_drive_stiffness(index, drive_index)` | The stiffness of the joint drive. | `float` |
| `get_joint_drive_damping(index, drive_index)` | The damping of the joint drive. | `float` |
| `get_num_non_moving()` | The number of non moving. | `int` |
| `get_non_moving_id(index)` | The ID of the non moving. | `int` |
| `get_non_moving_name(index)` | The name of the non moving. | `str` |
| `get_non_moving_segmentation_color(index)` | The color of the non moving segmentation. | `Tuple[float, float, float]` |

## Substructure

`s = Substructure(byte_array)`

**Identifier:** `subs`

The substructure of a model. This should be used mainly for backend debugging.

| Function | Description | Return type |
| --- | --- | --- |
| `get_num_sub_objects()` | The number of sub objects. | `int` |
| `get_sub_object_name(index)` | The name of the sub object. | `str` |
| `get_num_sub_object_materials(index)` | The number of sub object materials. | `int` |
| `get_sub_object_material(index, material_index)` | The material of the sub object. | `str` |

## Transforms

`t = Transforms(byte_array)`

**Identifier:** `tran`

Data about the Transform component of objects (position and rotation).

| Function | Description | Return type |
| --- | --- | --- |
| `get_num()` | The number of objects. | `int` |
| `get_id(index)` | The unique ID of this object. | `int` |
| `get_position(index)` | The local bottom-center position of the object. | `Tuple[float, float, float]` |
| `get_forward(index)` | The forward directional vector of the object. | `Tuple[float, float, float]` |
| `get_rotation(index)` | The current rotation of the object. | `Tuple[float, float, float, float]` |

## TriggerCollision

`t = TriggerCollision(byte_array)`

**Identifier:** `trco`

Data for a non-physics trigger collision event.

| Function | Description | Return type |
| --- | --- | --- |
| `get_collidee_id()` | The ID of the object that collided with the trigger collider. | `int` |
| `get_collider_id()` | The ID of the object that has the trigger collider. | `int` |
| `get_trigger_id()` | The ID of the trigger collider. | `int` |
| `get_state()` | The state of the collision. | `str` |

## Version

`v = Version(byte_array)`

**Identifier:** `vers`

The build version and Unity version.

| Function | Description | Return type |
| --- | --- | --- |
| `get_unity_version()` | The version of the unity. | `str` |
| `get_tdw_version()` | The version of the tdw. | `str` |
| `get_standalone()` | True if the build is a standalone binary. False if the build is Unity Editor. | `bool` |

## Volumes

`v = Volumes(byte_array)`

**Identifier:** `volu`

Spatial volume data for objects in the scene.

| Function | Description | Return type |
| --- | --- | --- |
| `get_num()` | The number of objects. | `int` |
| `get_object_id(index)` | The ID of the object. | `int` |
| `get_volume(index)` | The approximate volume in cubic meters. | `float` |

## VRRig

`v = VRRig(byte_array)`

**Identifier:** `vrri`

Data about the VR rig currently in the scene.

| Function | Description | Return type |
| --- | --- | --- |
| `get_position()` | The rig's position. | `Tuple[float, float, float]` |
| `get_rotation()` | The rig's rotation. | `Tuple[float, float, float, float]` |
| `get_forward()` | The rig's forward directional vector. | `Tuple[float, float, float]` |
| `get_left_hand_position()` | The position of the left hand. | `Tuple[float, float, float]` |
| `get_left_hand_rotation()` | The rotation of the left hand. | `Tuple[float, float, float, float]` |
| `get_left_hand_forward()` | The forward of the left hand. | `Tuple[float, float, float]` |
| `get_right_hand_position()` | The position of the right hand. | `Tuple[float, float, float]` |
| `get_right_hand_rotation()` | The rotation of the right hand. | `Tuple[float, float, float, float]` |
| `get_right_hand_forward()` | The forward of the right hand. | `Tuple[float, float, float]` |
| `get_head_position()` | The position of the head. | `Tuple[float, float, float]` |
| `get_head_rotation()` | The rotation of the head. | `Tuple[float, float, float, float]` |
| `get_head_forward()` | The forward of the head. | `Tuple[float, float, float]` |

